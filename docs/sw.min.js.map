{"version":3,"file":"assets/js/dist/sw.min.js","mappings":"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","sources":["webpack://jekyll-theme-chirpy/./_dev/js/pwa/sw.js"],"sourcesContent":["importScripts('./assets/js/data/swconf.js');\n\nconst purge = swconf.purge;\nconst interceptor = swconf.interceptor;\n\nfunction verifyUrl(url) {\n  const requestUrl = new URL(url);\n  const requestPath = requestUrl.pathname;\n\n  if (!requestUrl.protocol.startsWith('http')) {\n    return false;\n  }\n\n  for (const prefix of interceptor.urlPrefixes) {\n    if (requestUrl.href.startsWith(prefix)) {\n      return false;\n    }\n  }\n\n  for (const path of interceptor.paths) {\n    if (requestPath.startsWith(path)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nself.addEventListener('install', (event) => {\n  if (purge) {\n    return;\n  }\n\n  event.waitUntil(\n    caches.open(swconf.cacheName).then((cache) => {\n      return cache.addAll(swconf.resources);\n    })\n  );\n});\n\nself.addEventListener('activate', (event) => {\n  event.waitUntil(\n    caches.keys().then((keyList) => {\n      return Promise.all(\n        keyList.map((key) => {\n          if (purge) {\n            return caches.delete(key);\n          } else {\n            if (key !== swconf.cacheName) {\n              return caches.delete(key);\n            }\n          }\n        })\n      );\n    })\n  );\n});\n\nself.addEventListener('message', (event) => {\n  if (event.data === 'SKIP_WAITING') {\n    self.skipWaiting();\n  }\n});\n\nself.addEventListener('fetch', (event) => {\n  if (event.request.headers.has('range')) {\n    return;\n  }\n\n  event.respondWith(\n    caches.match(event.request).then((response) => {\n      if (response) {\n        return response;\n      }\n\n      return fetch(event.request).then((response) => {\n        const url = event.request.url;\n\n        if (purge || event.request.method !== 'GET' || !verifyUrl(url)) {\n          return response;\n        }\n\n        // See: <https://developers.google.com/web/fundamentals/primers/service-workers#cache_and_return_requests>\n        let responseToCache = response.clone();\n\n        caches.open(swconf.cacheName).then((cache) => {\n          cache.put(event.request, responseToCache);\n        });\n        return response;\n      });\n    })\n  );\n});\n"],"names":["importScripts","purge","swconf","interceptor","verifyUrl","url","requestUrl","URL","requestPath","pathname","protocol","startsWith","prefix","urlPrefixes","href","path","paths","self","addEventListener","event","waitUntil","caches","open","cacheName","then","cache","addAll","resources","keys","keyList","Promise","all","map","key","delete","data","skipWaiting","request","headers","has","respondWith","match","response","fetch","method","responseToCache","clone","put"],"ignoreList":[],"sourceRoot":""}