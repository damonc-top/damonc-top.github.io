{"version":3,"file":"assets/js/dist/theme.min.js","mappings":"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","sources":["webpack://jekyll-theme-chirpy/./_dev/js/theme.js"],"sourcesContent":["/**\n * Theme management class\n *\n * To reduce flickering during page load, this script should be loaded synchronously.\n */\nclass Theme {\n  static #modeKey = 'mode';\n  static #modeAttr = 'data-mode';\n  static #darkMedia = window.matchMedia('(prefers-color-scheme: dark)');\n  static switchable = !document.documentElement.hasAttribute(this.#modeAttr);\n\n  static get DARK() {\n    return 'dark';\n  }\n\n  static get LIGHT() {\n    return 'light';\n  }\n\n  /**\n   * @returns {string} Theme mode identifier\n   */\n  static get ID() {\n    return 'theme-mode';\n  }\n\n  /**\n   * Gets the current visual state of the theme.\n   *\n   * @returns {string} The current visual state, either the mode if it exists,\n   *                   or the system dark mode state ('dark' or 'light').\n   */\n  static get visualState() {\n    if (this.#hasMode) {\n      return this.#mode;\n    } else {\n      return this.#sysDark ? this.DARK : this.LIGHT;\n    }\n  }\n\n  static get #mode() {\n    return (\n      sessionStorage.getItem(this.#modeKey) ||\n      document.documentElement.getAttribute(this.#modeAttr)\n    );\n  }\n\n  static get #isDarkMode() {\n    return this.#mode === this.DARK;\n  }\n\n  static get #hasMode() {\n    return this.#mode !== null;\n  }\n\n  static get #sysDark() {\n    return this.#darkMedia.matches;\n  }\n\n  /**\n   * Maps theme modes to provided values\n   * @param {string} light Value for light mode\n   * @param {string} dark Value for dark mode\n   * @returns {Object} Mapped values\n   */\n  static getThemeMapper(light, dark) {\n    return {\n      [this.LIGHT]: light,\n      [this.DARK]: dark\n    };\n  }\n\n  /**\n   * Initializes the theme based on system preferences or stored mode\n   */\n  static init() {\n    if (!this.switchable) {\n      return;\n    }\n\n    this.#darkMedia.addEventListener('change', () => {\n      const lastMode = this.#mode;\n      this.#clearMode();\n\n      if (lastMode !== this.visualState) {\n        this.#notify();\n      }\n    });\n\n    if (!this.#hasMode) {\n      return;\n    }\n\n    if (this.#isDarkMode) {\n      this.#setDark();\n    } else {\n      this.#setLight();\n    }\n  }\n\n  /**\n   * Flips the current theme mode\n   */\n  static flip() {\n    if (this.#hasMode) {\n      this.#clearMode();\n    } else {\n      this.#sysDark ? this.#setLight() : this.#setDark();\n    }\n    this.#notify();\n  }\n\n  static #setDark() {\n    document.documentElement.setAttribute(this.#modeAttr, this.DARK);\n    sessionStorage.setItem(this.#modeKey, this.DARK);\n  }\n\n  static #setLight() {\n    document.documentElement.setAttribute(this.#modeAttr, this.LIGHT);\n    sessionStorage.setItem(this.#modeKey, this.LIGHT);\n  }\n\n  static #clearMode() {\n    document.documentElement.removeAttribute(this.#modeAttr);\n    sessionStorage.removeItem(this.#modeKey);\n  }\n\n  /**\n   * Notifies other plugins that the theme mode has changed\n   */\n  static #notify() {\n    window.postMessage({ id: this.ID }, '*');\n  }\n}\n\nTheme.init();\n\nexport default Theme;\n"],"names":["Theme","DARK","LIGHT","ID","visualState","_classPrivateGetter","_get_hasMode","_get_mode","_get_sysDark","getThemeMapper","light","dark","init","switchable","_assertClassBrand","_darkMedia","_","addEventListener","lastMode","_clearMode","call","_notify","_get_isDarkMode","_setDark","_setLight","flip","_Theme","_this","sessionStorage","getItem","_modeKey","document","documentElement","getAttribute","_modeAttr","_this2","_this3","_this4","matches","setAttribute","setItem","removeAttribute","removeItem","window","postMessage","id","matchMedia","_defineProperty","hasAttribute"],"ignoreList":[],"sourceRoot":""}